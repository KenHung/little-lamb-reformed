<section id="pixnet-comments">
  <!-- Start pixnet comments -->
  <div class="js-comments">
    <h4 class="page__comments-title">{{ site.data.ui-text[site.locale].comments_title | default: "Comments" }}</h4>
    {% raw %}
    <article v-for="comment in comments" :id="'comment-' + comment.id" class="js-comment comment" itemprop="comment"
      itemscope itemtype="https://schema.org/Comment">
      <div class="comment__avatar-wrapper">
        <img class="comment__avatar" :src="'https://www.gravatar.com/avatar/' + comment.email + '?d=mm&s=80'"
          :alt="comment.author">
      </div>
      <div class="comment__content-wrapper">
        <h3 class="comment__author" itemprop="author" itemscope itemtype="https://schema.org/Person">
          <span itemprop="name">
            <a v-if="comment.url" rel="external nofollow" itemprop="url" :href="comment.url">{{ comment.author }}</a>
            <div v-else>{{ comment.author }}</div>
          </span>
        </h3>
        <p class="comment__date">
          <a :href="'#comment-' + comment.id" itemprop="url">
            <!-- TODO: fix time format -->
            <time :datetime="new Date(comment.created_at * 1000)" itemprop="datePublished">{{ new
              Date(comment.created_at * 1000) }}</time>
          </a>
        </p>
        <div itemprop="text">{{ comment.body }}</div>
      </div>
    </article>
    {% endraw %}
  </div>
  <nav class="pagination">
    {% raw %}
    <ul>
      <li :aria-disabled="currentPage === 1">
        <a href="javascript:void(0)" :class="{ disabled: currentPage === 1 }" @click="prevComments">
          {% endraw %}{{ site.data.ui-text[site.locale].pagination_previous }}{% raw %}
        </a>
      </li>
      <li v-for="page in totalPages" :aria-disabled="currentPage === page">
        <a href="javascript:void(0)" :class="{ 'disabled current': currentPage === page }" @click="getComments(page)">
          {{ page }}
        </a>
      </li>
      <li :aria-disabled="currentPage === totalPages.length">
        <a href="javascript:void(0)" :class="{ disabled: currentPage === totalPages.length }" @click="nextComments">
          {% endraw %}{{ site.data.ui-text[site.locale].pagination_next }}
        </a>
      </li>
    </ul>
  </nav>
  <!-- End pixnet comments -->
</section>