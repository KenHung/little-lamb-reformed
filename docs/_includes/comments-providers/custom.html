<section id="pixnet-comments">
  <!-- Start pixnet comments -->
  {% raw %}
  <div class="js-comments">
    <h4 class="page__comments-title">{{ site.data.ui-text[site.locale].comments_title | default: "Comments" }}</h4>
    <article v-for="comment in comments" :id="'comment-' + comment.id" class="js-comment comment" itemprop="comment"
      itemscope itemtype="https://schema.org/Comment">
      <div class="comment__avatar-wrapper">
        <img class="comment__avatar" :src="'https://www.gravatar.com/avatar/' + comment.email + '?d=mm&s=80'"
          :alt="comment.author">
      </div>
      <div class="comment__content-wrapper">
        <h3 class="comment__author" itemprop="author" itemscope itemtype="https://schema.org/Person">
          <span itemprop="name">
            <a v-if="comment.url" rel="external nofollow" itemprop="url" :href="comment.url">{{ comment.author }}</a>
            <div v-else>{{ comment.author }}</div>
          </span>
        </h3>
        <p class="comment__date">
          <a :href="'#comment-' + comment.id" itemprop="url">
            <!-- TODO: fix time format -->
            <time :datetime="new Date(comment.created_at * 1000)" itemprop="datePublished">{{ new Date(comment.created_at * 1000) }}</time>
          </a>
        </p>
        <div itemprop="text">{{ comment.body }}</div>
      </div>
    </article>
  </div>
  <nav class="pagination">
    <ul>
      <li><button @click="getComments">{{ labelPrevious }}</a></li>
      <!-- <li><a href="#" class="disabled"><span aria-hidden="true">{{ site.data.ui-text[site.locale].pagination_previous | default: "Previous" }}</span></a></li> -->

      <li v-for="page in pages">
        <button :class="{ page === currentPage ? 'disabled current': '' }">{{ page }}</button>
      </li>

      <li><button @click="getComments">{{ labelNext }}</a></li>
    </ul>
  </nav>
  {% endraw %}
  <!-- End pixnet comments -->
</section>